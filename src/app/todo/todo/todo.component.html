<div class="todo" (click)="select($event)" [class.todo-edit-mode]="editMode" [class.todo-selected]="selected">
  <div class="todo-view" *ngIf="!editMode">
    <input type="hidden" value={{todo._id}} />
    <div class="todo-operations">
      <div class="todo-edit-toggle" (click)="edit()" *ngIf="!todo.done">Edit</div>
      <div class="todo-delete" (click)="delete()">Delete</div>
    </div>
    <div class="todo-text-region todo-text">{{todo.text}}</div>
  </div>
  <div class="todo-edit" *ngIf="editMode">
    <div class="todo-operations">
      <div class="todo-edit-toggle" (click)="save()">Save</div>
      <div class="todo-edit-cancel" (click)="cancel()">Cancel</div>
    </div>
    <form class="todo-text-region todo-form">
      <input class="todo-form-checkbox" type="checkbox" [(ngModel)]="todo.done" [ngModelOptions]="{standalone: true}" /> Finished
      <div class="form-group">
        <label class="todo-form-text todo-form-text-label">Text</label>
        <input class="todo-form-input" type="text" [(ngModel)]="todo.text" [ngModelOptions]="{standalone: true}" />
      </div>
      <div class="form-group">
        <label class="todo-form-text todo-form-description-label">Description</label>
        <textarea class="todo-form-textarea" [(ngModel)]="todo.description" [ngModelOptions]="{standalone: true}"></textarea>
      </div>
    </form>
  </div>
</div>